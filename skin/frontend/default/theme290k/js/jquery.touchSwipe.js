!function(a){"use strict";function z(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=h),void 0!==b.click&&void 0===b.tap&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var c=a(this),d=c.data(x);d||(d=new A(this,b),c.data(x,d))})}function A(y,z){function $(b){if(!Hb()&&!(a(b.target).closest(z.excludedElements,P).length>0)){var d,c=b.originalEvent?b.originalEvent:b,e=w?c.touches[0]:c;return Q=s,w?R=c.touches.length:b.preventDefault(),G=0,H=null,N=null,I=0,J=0,K=0,L=1,M=0,S=Mb(),O=Pb(),Fb(),!w||R===z.fingers||z.fingers===q||nb()?(Jb(0,e),T=Yb(),2==R&&(Jb(1,c.touches[1]),J=K=Sb(S[0].start,S[1].start)),(z.swipeStatus||z.pinchStatus)&&(d=fb(c,Q))):d=!1,d===!1?(Q=v,fb(c,Q),d):void Ib(!0)}}function _(a){var b=a.originalEvent?a.originalEvent:a;if(Q!==u&&Q!==v&&!Gb()){var c,d=w?b.touches[0]:b,e=Kb(d);if(U=Yb(),w&&(R=b.touches.length),Q=t,2==R&&(0==J?(Jb(1,b.touches[1]),J=K=Sb(S[0].start,S[1].start)):(Kb(b.touches[1]),K=Sb(S[0].end,S[1].end),N=Ub(S[0].end,S[1].end)),L=Tb(J,K),M=Math.abs(J-K)),R===z.fingers||z.fingers===q||!w||nb()){if(H=Xb(e.start,e.end),lb(a,H),G=Vb(e.start,e.end),I=Rb(),Nb(H,G),(z.swipeStatus||z.pinchStatus)&&(c=fb(b,Q)),!z.triggerOnTouchEnd||z.triggerOnTouchLeave){var f=!0;if(z.triggerOnTouchLeave){var g=Zb(this);f=$b(e.end,g)}!z.triggerOnTouchEnd&&f?Q=eb(t):z.triggerOnTouchLeave&&!f&&(Q=eb(u)),(Q==v||Q==u)&&fb(b,Q)}}else Q=v,fb(b,Q);c===!1&&(Q=v,fb(b,Q))}}function ab(a){var b=a.originalEvent;return w&&b.touches.length>0?(Eb(),!0):(Gb()&&(R=W),a.preventDefault(),U=Yb(),I=Rb(),ib()?(Q=v,fb(b,Q)):z.triggerOnTouchEnd||0==z.triggerOnTouchEnd&&Q===t?(Q=u,fb(b,Q)):!z.triggerOnTouchEnd&&ub()?(Q=u,gb(b,Q,l)):Q===t&&(Q=v,fb(b,Q)),void Ib(!1))}function bb(){R=0,U=0,T=0,J=0,K=0,L=1,Fb(),Ib(!1)}function cb(a){var b=a.originalEvent;z.triggerOnTouchLeave&&(Q=eb(u),fb(b,Q))}function db(){P.unbind(B,$),P.unbind(F,bb),P.unbind(C,_),P.unbind(D,ab),E&&P.unbind(E,cb),Ib(!1)}function eb(a){var b=a,c=kb(),d=hb(),e=ib();return!c||e?b=v:!d||a!=t||z.triggerOnTouchEnd&&!z.triggerOnTouchLeave?!d&&a==u&&z.triggerOnTouchLeave&&(b=v):b=u,b}function fb(a,b){var c=void 0;return rb()||qb()?c=gb(a,b,j):(ob()||nb())&&c!==!1&&(c=gb(a,b,k)),Cb()&&c!==!1?c=gb(a,b,m):Db()&&c!==!1?c=gb(a,b,n):Bb()&&c!==!1&&(c=gb(a,b,l)),b===v&&bb(a),b===u&&(w?0==a.touches.length&&bb(a):bb(a)),c}function gb(h,i,o){var p=void 0;if(o==j){if(P.trigger("swipeStatus",[i,H||null,G||0,I||0,R]),z.swipeStatus&&(p=z.swipeStatus.call(P,h,i,H||null,G||0,I||0,R),p===!1))return!1;if(i==u&&pb()){if(P.trigger("swipe",[H,G,I,R]),z.swipe&&(p=z.swipe.call(P,h,H,G,I,R),p===!1))return!1;switch(H){case b:P.trigger("swipeLeft",[H,G,I,R]),z.swipeLeft&&(p=z.swipeLeft.call(P,h,H,G,I,R));break;case c:P.trigger("swipeRight",[H,G,I,R]),z.swipeRight&&(p=z.swipeRight.call(P,h,H,G,I,R));break;case d:P.trigger("swipeUp",[H,G,I,R]),z.swipeUp&&(p=z.swipeUp.call(P,h,H,G,I,R));break;case e:P.trigger("swipeDown",[H,G,I,R]),z.swipeDown&&(p=z.swipeDown.call(P,h,H,G,I,R))}}}if(o==k){if(P.trigger("pinchStatus",[i,N||null,M||0,I||0,R,L]),z.pinchStatus&&(p=z.pinchStatus.call(P,h,i,N||null,M||0,I||0,R,L),p===!1))return!1;if(i==u&&mb())switch(N){case f:P.trigger("pinchIn",[N||null,M||0,I||0,R,L]),z.pinchIn&&(p=z.pinchIn.call(P,h,N||null,M||0,I||0,R,L));break;case g:P.trigger("pinchOut",[N||null,M||0,I||0,R,L]),z.pinchOut&&(p=z.pinchOut.call(P,h,N||null,M||0,I||0,R,L))}}return o==l?(i===v||i===u)&&(clearTimeout(Y),vb()&&!yb()?(X=Yb(),Y=setTimeout(a.proxy(function(){X=null,P.trigger("tap",[h.target]),z.tap&&(p=z.tap.call(P,h,h.target))},this),z.doubleTapThreshold)):(X=null,P.trigger("tap",[h.target]),z.tap&&(p=z.tap.call(P,h,h.target)))):o==m?(i===v||i===u)&&(clearTimeout(Y),X=null,P.trigger("doubletap",[h.target]),z.doubleTap&&(p=z.doubleTap.call(P,h,h.target))):o==n&&(i===v||i===u)&&(clearTimeout(Y),X=null,P.trigger("longtap",[h.target]),z.longTap&&(p=z.longTap.call(P,h,h.target))),p}function hb(){var a=!0;return null!==z.threshold&&(a=G>=z.threshold),a}function ib(){var a=!1;return null!==z.cancelThreshold&&null!==H&&(a=Ob(H)-G>=z.cancelThreshold),a}function jb(){return null!==z.pinchThreshold?M>=z.pinchThreshold:!0}function kb(){var a;return a=z.maxTimeThreshold&&I>=z.maxTimeThreshold?!1:!0}function lb(a,f){if(z.allowPageScroll===h||nb())a.preventDefault();else{var g=z.allowPageScroll===i;switch(f){case b:(z.swipeLeft&&g||!g&&z.allowPageScroll!=o)&&a.preventDefault();break;case c:(z.swipeRight&&g||!g&&z.allowPageScroll!=o)&&a.preventDefault();break;case d:(z.swipeUp&&g||!g&&z.allowPageScroll!=p)&&a.preventDefault();break;case e:(z.swipeDown&&g||!g&&z.allowPageScroll!=p)&&a.preventDefault()}}}function mb(){var a=sb(),b=tb(),c=jb();return a&&b&&c}function nb(){return!!(z.pinchStatus||z.pinchIn||z.pinchOut)}function ob(){return!(!mb()||!nb())}function pb(){var a=kb(),b=hb(),c=sb(),d=tb(),e=ib(),f=!e&&d&&c&&b&&a;return f}function qb(){return!!(z.swipe||z.swipeStatus||z.swipeLeft||z.swipeRight||z.swipeUp||z.swipeDown)}function rb(){return!(!pb()||!qb())}function sb(){return R===z.fingers||z.fingers===q||!w}function tb(){return 0!==S[0].end.x}function ub(){return!!z.tap}function vb(){return!!z.doubleTap}function wb(){return!!z.longTap}function xb(){if(null==X)return!1;var a=Yb();return vb()&&a-X<=z.doubleTapThreshold}function yb(){return xb()}function zb(){return(1===R||!w)&&(isNaN(G)||0===G)}function Ab(){return I>z.longTapThreshold&&G<r}function Bb(){return!(!zb()||!ub())}function Cb(){return!(!xb()||!vb())}function Db(){return!(!Ab()||!wb())}function Eb(){V=Yb(),W=event.touches.length+1}function Fb(){V=0,W=0}function Gb(){var a=!1;if(V){var b=Yb()-V;b<=z.fingerReleaseThreshold&&(a=!0)}return a}function Hb(){return!(P.data(x+"_intouch")!==!0)}function Ib(a){a===!0?(P.bind(C,_),P.bind(D,ab),E&&P.bind(E,cb)):(P.unbind(C,_,!1),P.unbind(D,ab,!1),E&&P.unbind(E,cb,!1)),P.data(x+"_intouch",a===!0)}function Jb(a,b){var c=void 0!==b.identifier?b.identifier:0;return S[a].identifier=c,S[a].start.x=S[a].end.x=b.pageX||b.clientX,S[a].start.y=S[a].end.y=b.pageY||b.clientY,S[a]}function Kb(a){var b=void 0!==a.identifier?a.identifier:0,c=Lb(b);return c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function Lb(a){for(var b=0;b<S.length;b++)if(S[b].identifier==a)return S[b]}function Mb(){for(var a=[],b=0;b<=5;b++)a.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return a}function Nb(a,b){b=Math.max(b,Ob(a)),O[a].distance=b}function Ob(a){return O[a].distance}function Pb(){var a={};return a[b]=Qb(b),a[c]=Qb(c),a[d]=Qb(d),a[e]=Qb(e),a}function Qb(a){return{direction:a,distance:0}}function Rb(){return U-T}function Sb(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function Tb(a,b){var c=b/a*1;return c.toFixed(2)}function Ub(){return L<1?g:f}function Vb(a,b){return Math.round(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)))}function Wb(a,b){var c=a.x-b.x,d=b.y-a.y,e=Math.atan2(d,c),f=Math.round(180*e/Math.PI);return f<0&&(f=360-Math.abs(f)),f}function Xb(a,f){var g=Wb(a,f);return g<=45&&g>=0?b:g<=360&&g>=315?b:g>=135&&g<=225?c:g>45&&g<135?e:d}function Yb(){var a=new Date;return a.getTime()}function Zb(b){b=a(b);var c=b.offset(),d={left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()};return d}function $b(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}var A=w||!z.fallbackToMouseEvents,B=A?"touchstart":"mousedown",C=A?"touchmove":"mousemove",D=A?"touchend":"mouseup",E=A?null:"mouseleave",F="touchcancel",G=0,H=null,I=0,J=0,K=0,L=1,M=0,N=0,O=null,P=a(y),Q="start",R=0,S=null,T=0,U=0,V=0,W=0,X=0,Y=null;try{P.bind(B,$),P.bind(F,bb)}catch(Z){a.error("events not supported "+B+","+F+" on jQuery.swipe")}this.enable=function(){return P.bind(B,$),P.bind(F,bb),P},this.disable=function(){return db(),P},this.destroy=function(){return db(),P.data(x,null),P},this.option=function(b,c){if(void 0!==z[b]){if(void 0===c)return z[b];z[b]=c}else a.error("Option "+b+" does not exist on jQuery.swipe.options")}}var b="left",c="right",d="up",e="down",f="in",g="out",h="none",i="auto",j="swipe",k="pinch",l="tap",m="doubletap",n="longtap",o="horizontal",p="vertical",q="all",r=10,s="start",t="move",u="end",v="cancel",w="ontouchstart"in window,x="TouchSwipe",y={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, .noSwipe"};a.fn.swipe=function(b){var c=a(this),d=c.data(x);if(d&&"string"===typeof b){if(d[b])return d[b].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+b+" does not exist on jQuery.swipe")}else if(!d&&("object"===typeof b||!b))return z.apply(this,arguments);return c},a.fn.swipe.defaults=y,a.fn.swipe.phases={PHASE_START:s,PHASE_MOVE:t,PHASE_END:u,PHASE_CANCEL:v},a.fn.swipe.directions={LEFT:b,RIGHT:c,UP:d,DOWN:e,IN:f,OUT:g},a.fn.swipe.pageScroll={NONE:h,HORIZONTAL:o,VERTICAL:p,AUTO:i},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:q}}(jQuery);
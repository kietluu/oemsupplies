jQuery.fn.prepare_slider=function(){var a=0,b=0,c=0,d=0,e=jQuery("#slider_list > li"),f=e.outerWidth(!0),g=4;e.each(function(){a+=jQuery(this).outerWidth(!0),b++}),c=b-g,total_clicks=b-g,jQuery("#slider_list").css("position","relative"),jQuery("#slider_list").css("left","0px"),jQuery("#slider_list").css("width",a+"px"),jQuery("#slider_list li:last").addClass("last"),jQuery("#slider_list li:first").addClass("first");var h=!1,i=function(){h=!1};jQuery("#left_but").click(function(){cur_offset=jQuery("#slider_list").position().left,h||(d>0?(h=!0,jQuery("#slider_list").animate({left:cur_offset+f+"px"},700,"linear",i),c++,d--):(h=!0,jQuery("#slider_list").animate({left:-f*total_clicks+"px"},700,"linear",i),c=0,d=total_clicks))}),jQuery("#right_but").click(function(){h||(cur_offset=jQuery("#slider_list").position().left,c>0?(h=!0,jQuery("#slider_list").animate({left:cur_offset-f+"px"},700,"linear",i),c--,d++):(h=!0,jQuery("#slider_list").animate({left:"0px"},700,"linear",i),d=0,c=total_clicks))})},jQuery.fn.over=function(){jQuery(this).hover(function(){jQuery(this).addClass("over")},function(){jQuery(this).removeClass("over")})},jQuery.fn.intro=function(){function g(){0==e&&1==f?c<=d&&(a.trigger("click"),c++,setTimeout(function(){g()},7e3)):(setTimeout(function(){g()},7e3),e=!1)}var a=jQuery(".slider .box-right"),b=jQuery(".slider .box-right, .slider .box-left"),c=1,d=jQuery("#slider_list > li").size(),e=!1,f=!0;setTimeout(function(){g()},7e3),b.each(function(){jQuery(this).bind("mouseup",function(){e=!0,f=!0})}),jQuery(window).blur(function(){f=!1}).focus(function(){f=!0})},document.observe("dom:loaded",function(){var a=$$(".box-top");a.each(function(a){var b=a.select("#slider_list");b.each(function(a){var b=a.select("li"),c=0;b.each(function(a){a.getHeight()>c&&(c=a.getHeight())});var d=a.select("li .product-name");d.each(function(a){var b=a.up("li"),d=b.getHeight()-a.getHeight();a.setStyle({height:c-d+"px"})})})})}),jQuery(window).bind("load",function(){jQuery().prepare_slider(),jQuery().intro(),jQuery("#slider_list > li").over()});